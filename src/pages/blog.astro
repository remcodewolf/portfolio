---
import { getCollection } from "astro:content";
import PageLayout from "../layouts/PageLayout.astro";
import BlogPost from "../components/BlogPost.astro";
const pageTitle = "Blog";
const allPosts = await getCollection("blog");
---

<PageLayout pageTitle={pageTitle}>
  <div class="mx-auto max-w-7xl shadow-md h-full p-4">
    <h1 class="text-5xl font-bold text-center">My Astro Learning Blog</h1>
    <p class="p-4">
      This is where I will post about my journey learning Astro.
    </p>
    <ul
      class="w-full grid grid-cols-[repeat(auto-fit,minmax(300px,1fr))] gap-6"
    >
      {
        allPosts.map((post: any) => (
          <BlogPost
            url={`/posts/${post.id}/`}
            title={post.data.title}
            cover={post.data.cover}
            coverAlt={post.data.coverAlt}
            description={post.data.description}
          />
        ))
      }
    </ul>
  </div>
</PageLayout>
